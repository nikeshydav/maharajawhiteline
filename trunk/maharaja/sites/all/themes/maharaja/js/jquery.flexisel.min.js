(function(a){a.fn.flexisel=function(k){var e=a.extend({visibleItems:4,animationSpeed:200,autoPlay:false,autoPlaySpeed:3000,pauseOnHover:true,setMaxWidthAndHeight:false,enableResponsiveBreakpoints:true,clone:true,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},k);var f=a(this);var d=a.extend(e,k);var h;var i=true;var g=d.visibleItems;var j=f.children().length;var b=[];var c={init:function(){return this.each(function(){c.appendHTML();c.setEventHandlers();c.initializeItems()})},initializeItems:function(){var o=f.parent();var n=o.height();var m=f.children();c.sortResponsiveObject(d.responsiveBreakpoints);var l=o.width();h=(l)/g;m.width(h);if(d.clone){m.last().insertBefore(m.first());m.last().insertBefore(m.first());f.css({left:-h})}f.fadeIn();a(window).trigger("resize")},appendHTML:function(){f.addClass("nbs-flexisel-ul");f.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>");f.find("li").addClass("nbs-flexisel-item");if(d.setMaxWidthAndHeight){var n=a(".nbs-flexisel-item img").width();var m=a(".nbs-flexisel-item img").height();a(".nbs-flexisel-item img").css("max-width",n);a(".nbs-flexisel-item img").css("max-height",m)}a("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(f);if(d.clone){var l=f.children().clone();f.append(l)}},setEventHandlers:function(){var n=f.parent();var m=f.children();var o=n.find(a(".nbs-flexisel-nav-left"));var l=n.find(a(".nbs-flexisel-nav-right"));a(window).on("resize",function(q){c.setResponsiveEvents();var p=a(n).width();var r=a(n).height();h=(p)/g;m.width(h);if(d.clone){f.css({left:-h})}else{f.css({left:0})}var s=(o.height())/2;var t=(r/2)-s;o.css("top",t+"px");l.css("top",t+"px")});a(o).on("click",function(p){c.scrollLeft()});a(l).on("click",function(p){c.scrollRight()});if(d.pauseOnHover==true){a(".nbs-flexisel-item").on({mouseenter:function(){i=false},mouseleave:function(){i=true}})}if(d.autoPlay==true){setInterval(function(){if(i==true){c.scrollRight()}},d.autoPlaySpeed)}},setResponsiveEvents:function(){var l=a("html").width();if(d.enableResponsiveBreakpoints){var n=b[b.length-1].changePoint;for(var m in b){if(l>=n){g=d.visibleItems;break}else{if(l<b[m].changePoint){g=b[m].visibleItems;break}else{continue}}}}},sortResponsiveObject:function(n){var l=[];for(var m in n){l.push(n[m])}l.sort(function(p,o){return p.changePoint-o.changePoint});b=l},scrollLeft:function(){if(f.position().left<0){if(i==true){i=false;var n=f.parent();var l=n.width();h=(l)/g;var m=f.children();f.animate({left:"+="+h},{queue:false,duration:d.animationSpeed,easing:"linear",complete:function(){if(d.clone){m.last().insertBefore(m.first())}c.adjustScroll();i=true}})}}},scrollRight:function(){var p=f.parent();var l=p.width();h=(l)/g;var o=(h-l);var n=(f.position().left+((j-g)*h)-l);if((o<=Math.ceil(n))&&(!d.clone)){if(i==true){i=false;f.animate({left:"-="+h},{queue:false,duration:d.animationSpeed,easing:"linear",complete:function(){c.adjustScroll();i=true}})}}else{if(d.clone){if(i==true){i=false;var m=f.children();f.animate({left:"-="+h},{queue:false,duration:d.animationSpeed,easing:"linear",complete:function(){m.first().insertAfter(m.last());c.adjustScroll();i=true}})}}}},adjustScroll:function(){var n=f.parent();var m=f.children();var l=n.width();h=(l)/g;m.width(h);if(d.clone){f.css({left:-h})}}};if(c[k]){return c[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return c.init.apply(this)}else{a.error('Method "'+method+'" does not exist in flexisel plugin!')}}}})(jQuery);